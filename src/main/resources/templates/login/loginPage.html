<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
  <head>
    <meta charset="UTF-8">
    <title>Groupware</title>
    <meta name="_csrf" th:content="${_csrf.token}">
    <meta name="_csrf_header" th:content="${_csrf.headerName}">

    <!-- Base CSS -->
    <link id="vendorsbundle" rel="stylesheet" media="screen, print" href="/css/vendors.bundle.css">
    <link id="appbundle" rel="stylesheet" media="screen, print" href="/css/app.bundle.css">
    <link id="myskin" rel="stylesheet" media="screen, print" href="/css/skins/skin-master.css">

    <!-- 레이아웃 기본 테마를 indigo(cust-theme-3.css)로 설정 -->
    <link id="mytheme" rel="stylesheet" media="screen, print" href="/css/themes/cust-theme-3.css">

    <!-- Additional CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" media="screen, print" href="/css/fa-brands.css">
    <link rel="stylesheet" media="screen, print" href="/css/fa-solid.css">
    <link rel="stylesheet" media="screen, print" href="/css/page-login-alt.css">

    <!-- Additional Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>

    <!-- Layout Specific CSS/JS -->
    <th:block layout="script"></th:block>
    <th:block layout="css"></th:block>
  </head>
  <!-- 주석 내용 : 해당 body로 교체 시 동영상 배경의 로그인 페이지로 전환 
    <body class="mod-skin-light">
      <div class="blankpage-form-field">
          <div class="page-logo m-0 w-100 align-items-center justify-content-center rounded border-bottom-left-radius-0 border-bottom-right-radius-0 px-4">
              <a href="javascript:void(0)" class="page-logo-link press-scale-down d-flex align-items-center">
                  <img src="/img/logo.png" alt="One Million Groupware" aria-roledescription="logo">
                  <span class="page-logo-text mr-1">One Million Groupware</span>
                  <i class="fal fa-angle-down d-inline-block ml-1 fs-lg color-primary-300"></i>
              </a>
          </div>
          <div class="card p-4 border-top-left-radius-0 border-top-right-radius-0">
              <form action="/login" method="post">
                  <div class="form-group">
                      <label class="form-label" for="username">E-Mail</label>
                      <input type="email" class="form-control" placeholder="your@email.com" id="email" name="email">
                      <span class="help-block">
                          등록된 이메일을 입력하세요
                      </span>
                  </div>
                  <div class="form-group">
                      <label class="form-label" for="password">Password</label>
                      <input type="password" class="form-control" placeholder="password" id="password" name="password" autocomplete="password">
                      <span class="help-block">
                          등록된 비밀번호를 입력하세요
                      </span>
                  </div>
                  <div class="form-group text-left">
                      <div class="custom-control custom-checkbox">
                          <input type="checkbox" class="custom-control-input" id="rememberme">
                          <label class="custom-control-label" for="rememberme">로그인 정보 기억하기</label>
                      </div>
                  </div>
                  <div>
                    <button type="submit" class="btn btn-sm btn-outline-info waves-effect waves-themed">
                        <span class="fas fa-arrow-right mr-1"></span>
                        로그인
                    </button>
                    <button type="button" onclick="goToMemberJoinPage()" class="btn btn-sm btn-outline-info waves-effect waves-themed">
                        <span class="fas fa-user-plus mr-1"></span>
                        회원가입
                    </button>
                  </div>
                  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
              </form>
          </div>
          <div class="blankpage-footer text-center">
              <a href="#"><strong>비밀번호 찾기</strong></a>
          </div>
      </div>
      <div class="login-footer p-2">
          <div class="row">
              <div class="col col-sm-12 text-center">
                  <i><strong>Since 2021. IT Study</strong></i>
              </div>
          </div>
      </div>
      <video poster="/img/backgrounds/clouds.png" id="bgvid" playsinline autoplay muted loop>
          <source src="/media/video/cc.webm" type="video/webm">
          <source src="/media/video/cc.mp4" type="video/mp4">
      </video>
      <script src="/js/vendors.bundle.js"></script>
      <script src="/js/app.bundle.js"></script>
      <script src="/js/bootstrap.bundle.min.js"></script>
      <script th:inline="javascript">
        /* 전역변수 설정 */
        let logo = document.getElementById("loginLogo");
        let popup = document.getElementById("popup");

        /* EventListener Control Area */
        // 팝업 오픈
        popup.addEventListener("click", openPopup);
        //이미지 변경
        setInterval(changeLogo, 700);

        /* Document.ready */
        window.onload = function(){
          const queryString = window.location.search;
          const urlParams = new URLSearchParams(queryString);
          if(urlParams.get('register')){
            alert("회원 가입이 정상적으로 완료되었습니다.");
          }
        };

        /* Function Area */
        // 팝업창 열기
        function openPopup(){
          const popupUrl = "/forget";
          const width = 350, height = 500, left = (window.innerWidth - width)/2, top=(window.innerHeight-height)/2;
          window.open(popupUrl, "_blank", "width=" + width + ",height=" + height + ",left=" + left + ",top=" + top);
        }
        // 이미지(로고) 변경
        function changeLogo(){
          const frontSrc = "/images/login/login";
          const backSrc = ".svg";
          let src = logo.getAttribute("src");
          let logoNum = parseInt(src.replace(/\D/g, ""));//숫자 추출
          let newLogoNum = (logoNum+1)%6;
          const newSrc = frontSrc + newLogoNum + backSrc;
          logo.setAttribute("src", newSrc);
        }

        function goToMemberJoinPage(){
          window.location.href = "/member/memberJoin";
        }
      </script>
  </body> -->
  <body class="mod-skin-light">
    <div class="page-wrapper auth">
        <div class="page-inner bg-brand-gradient">
            <div class="page-content-wrapper bg-transparent m-0">
                <div class="height-10 w-100 shadow-lg px-4 bg-brand-gradient">
                    <div class="d-flex align-items-center container p-0">
                        <div class="page-logo width-mobile-auto m-0 align-items-center justify-content-center p-0 bg-transparent bg-img-none shadow-0 height-9 border-0">
                            <a href="javascript:void(0)" class="page-logo-link press-scale-down d-flex align-items-center">
                                <img src="/img/logo.png" alt="One Million Groupware" aria-roledescription="logo">
                                <span class="page-logo-text mr-1">One Million Groupware</span>
                            </a>
                        </div>
                        <a href="javascript:goToMemberJoinPage();" class="btn-link text-white ml-auto">
                          회원가입
                        </a>
                    </div>
                </div>
                <!-- 로그인 페이지 Content 시작 -->
                <div class="flex-1" style="background: url(/img/svg/pattern-1.svg) no-repeat center bottom fixed; background-size: cover;">
                    <div class="container py-4 py-lg-5 my-lg-5 px-4 px-sm-0">
                        <div class="row">
                            <div class="col col-md-6 col-lg-7 hidden-sm-down">
                                <h2 class="fs-xxl fw-500 mt-4 text-white">
                                    For People who like to learn IT
                                    <small class="h3 fw-300 mt-3 mb-5 text-white opacity-60">
                                      IT를 배우는 것을 좋아하는 사람들을 위한
                                    </small>
                                </h2>
                                <div class="d-sm-flex flex-column align-items-center justify-content-center d-md-block">
                                    <div class="px-0 py-1 mt-5 text-white fs-nano opacity-50">
                                        Find us on SNS
                                    </div>
                                    <div class="d-flex flex-row opacity-70">
                                        <a href="#" class="mr-2 fs-xxl text-white">
                                            <i class="fab fa-facebook-square"></i>
                                        </a>
                                        <a href="#" class="mr-2 fs-xxl text-white">
                                            <i class="fab fa-twitter-square"></i>
                                        </a>
                                        <a href="#" class="mr-2 fs-xxl text-white">
                                            <i class="fab fa-google-plus-square"></i>
                                        </a>
                                        <a href="#" class="mr-2 fs-xxl text-white">
                                            <i class="fab fa-linkedin"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12 col-md-6 col-lg-5 col-xl-4 ml-auto">
                                <h1 class="text-white fw-300 mb-3 d-sm-block d-md-none">
                                    Secure login
                                </h1>
                                <div class="card p-4 rounded-plus bg-faded">
                                    <form action="/login" method="post">
                                        <div class="form-group">
                                            <label class="form-label" for="email">E-mail</label>
                                            <input type="email" class="form-control form-control-lg" placeholder="your@email.com" id="email" name="email">
                                            <div class="invalid-feedback">No, you missed this one.</div>
                                            <div class="help-block">Your unique e-mail to app</div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label" for="password">Password</label>
                                            <input type="password" class="form-control form-control-lg" placeholder="password" id="password" name="password" autocomplete="password">
                                            <div class="invalid-feedback">Sorry, you missed this one.</div>
                                            <div class="help-block">Your password</div>
                                        </div>
                                        <div class="form-group text-left">
                                            <div class="custom-control custom-checkbox">
                                                <input type="checkbox" class="custom-control-input" id="rememberme">
                                                <label class="custom-control-label" for="rememberme">로그인 정보 기억하기</label>
                                            </div>
                                        </div>
                                        <div class="row no-gutters">
                                            <div class="col-lg-6 pr-lg-1 my-2">
                                                <button type="submit" class="btn btn-primary btn-block btn-lg">로그인</button>
                                            </div>
                                            <div class="col-lg-6 pl-lg-1 my-2">
                                                <button id="popup" type="button" class="btn btn-primary btn-block btn-lg">비밀번호 찾기</button>
                                            </div>
                                        </div>
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                                    </form>
                                </div>
                            </div>
                        </div>
                        <div class="position-absolute pos-bottom pos-left pos-right p-3 text-center text-white">
                            2024 © Application made by Yong's study / Design & Publishing by&nbsp;<a href='https://www.gotbootstrap.com' class='text-white opacity-40 fw-500' title='gotbootstrap.com' target='_blank'>gotbootstrap.com</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/vendors.bundle.js"></script>
    <script src="/js/app.bundle.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script th:inline="javascript">
      /* 전역변수 설정 */
      let logo = document.getElementById("loginLogo");
      let popup = document.getElementById("popup");

      /* EventListener Control Area */
      // 팝업 오픈
      popup.addEventListener("click", openPopup);
      //이미지 변경
      setInterval(changeLogo, 700);

      /* Document.ready */
      window.onload = function(){
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        if(urlParams.get('register')){
          alert("회원 가입이 정상적으로 완료되었습니다.");
        }
      };

      /* Function Area */
      // 팝업창 열기
      function openPopup(){
        const popupUrl = "/forget";
        const width = 350, height = 500, left = (window.innerWidth - width)/2, top=(window.innerHeight-height)/2;
        window.open(popupUrl, "_blank", "width=" + width + ",height=" + height + ",left=" + left + ",top=" + top);
      }
      // 이미지(로고) 변경
      function changeLogo(){
        const frontSrc = "/images/login/login";
        const backSrc = ".svg";
        let src = logo.getAttribute("src");
        let logoNum = parseInt(src.replace(/\D/g, ""));//숫자 추출
        let newLogoNum = (logoNum+1)%6;
        const newSrc = frontSrc + newLogoNum + backSrc;
        logo.setAttribute("src", newSrc);
      }

      function goToMemberJoinPage(){
        window.location.href = "/member/memberJoin";
      }
    </script>
</body>
</html>